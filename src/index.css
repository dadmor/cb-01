/* src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import React Flow styles */
@import '@xyflow/react/dist/style.css';

/* Global styles */
@layer base {
  body {
    @apply bg-black text-neutral-200;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
  }

  /* Scrollbar styles - DaVinci style */
  * {
    scrollbar-width: thin;
    scrollbar-color: #404040 #0a0a0a;
  }

  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  *::-webkit-scrollbar-track {
    @apply bg-black;
  }

  *::-webkit-scrollbar-thumb {
    @apply bg-neutral-700 rounded-sm;
    border: 2px solid #0a0a0a;
  }

  *::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-600;
  }

  *::-webkit-scrollbar-corner {
    @apply bg-black;
  }
}

/* React Flow DaVinci Theme */
.react-flow {
  /* Backgrounds */
  --xy-background-color-default: #000000;
  --xy-background-pattern-color-default: #0a0a0a;
  
  /* Minimap */
  --xy-minimap-background-color-default: #0a0a0a;
  --xy-minimap-mask-background-color-default: rgba(0, 0, 0, 0.7);
  --xy-minimap-node-background-color-default: #262626;
  --xy-minimap-node-stroke-color-default: #404040;
  --xy-minimap-node-stroke-width-default: 1;
  
  /* Controls */
  --xy-controls-background-color-default: #171717;
  --xy-controls-border-color-default: #262626;
  --xy-controls-button-background-color-default: #171717;
  --xy-controls-button-background-color-hover-default: #262626;
  --xy-controls-button-color-default: #737373;
  --xy-controls-button-color-hover-default: #e5e5e5;
  --xy-controls-button-border-color-default: #262626;
  
  /* Nodes */
  --xy-node-background-color-default: #171717;
  --xy-node-color-default: #e5e5e5;
  --xy-node-border-default: 1px solid #262626;
  --xy-node-boxshadow-hover-default: 0 0 0 1px #dc2626;
  --xy-node-boxshadow-selected-default: 0 0 0 2px #dc2626;
  
  /* Handles */
  --xy-handle-background-color-default: #404040;
  --xy-handle-border-color-default: #525252;
  
  /* Edges */
  --xy-edge-stroke-default: #404040;
  --xy-edge-stroke-width-default: 2;
  --xy-edge-stroke-selected-default: #dc2626;
  
  /* Selection */
  --xy-selection-background-color-default: rgba(220, 38, 38, 0.08);
  --xy-selection-border-default: 1px solid #dc2626;
  
  /* Attribution */
  --xy-attribution-background-color-default: #000000;
  --xy-attribution-color-default: #404040;
}

/* Force pure black background */
.react-flow {
  @apply bg-black !important;
}

.react-flow__renderer {
  @apply bg-black !important;
}

.react-flow__background {
  @apply bg-black !important;
}

.react-flow__pane {
  @apply bg-black !important;
}

/* Sharp corners like DaVinci */
.react-flow * {
  border-radius: 2px !important;
}

/* Minimap DaVinci style */
.react-flow__minimap {
  @apply bg-black border border-neutral-800 !important;
  border-radius: 2px !important;
  opacity: 0.9;
}

.react-flow__minimap-mask {
  fill: rgba(0, 0, 0, 0.6) !important;
}

.react-flow__minimap-node {
  @apply fill-neutral-800 stroke-neutral-600 !important;
}

/* Controls DaVinci style */
.react-flow__controls {
  @apply bg-neutral-900 border border-neutral-800 !important;
  border-radius: 2px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5) !important;
}

.react-flow__controls-button {
  @apply bg-transparent text-neutral-500 border-b border-neutral-800 !important;
  border-radius: 0 !important;
  width: 32px !important;
  height: 32px !important;
}

.react-flow__controls-button:last-child {
  @apply border-b-0 !important;
}

.react-flow__controls-button:hover {
  @apply bg-neutral-800 text-white !important;
}

.react-flow__controls-button svg {
  @apply fill-current !important;
  width: 14px !important;
  height: 14px !important;
}

/* Node selection - red highlight like DaVinci */
.react-flow__node.selected {
  box-shadow: 0 0 0 2px #dc2626 !important;
}

/* Edge selection - red */
.react-flow__edge.selected .react-flow__edge-path {
  stroke: #dc2626 !important;
  stroke-width: 3 !important;
}

/* Handle styles */
.react-flow__handle {
  @apply bg-neutral-700 border border-neutral-600 !important;
  width: 10px !important;
  height: 10px !important;
  border-radius: 2px !important;
}

.react-flow__handle:hover {
  @apply bg-red-600 border-red-600 !important;
}

.react-flow__handle-connecting {
  @apply bg-red-600 border-red-600 !important;
}

/* Connection line */
.react-flow__connection-path {
  stroke: #dc2626 !important;
  stroke-width: 2 !important;
}

/* Background pattern */
.react-flow__background pattern {
  stroke: #0a0a0a !important;
}

/* Selection box */
.react-flow__selection {
  @apply bg-red-600/10 border border-red-600 !important;
  border-radius: 2px !important;
}

/* DaVinci-style animations */
@layer utilities {
  .transition-davinci {
    @apply transition-all duration-200 ease-out;
  }
  
  .shadow-davinci {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.8);
  }
  
  .shadow-davinci-lg {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.9);
  }
}

/* Custom DaVinci gradient backgrounds */
.bg-davinci-panel {
  background: linear-gradient(to bottom, #171717, #0a0a0a);
}

.bg-davinci-header {
  background: linear-gradient(to right, #262626, #171717, #262626);
}

/* Focus states */
input:focus,
select:focus,
textarea:focus {
  @apply border-red-700 outline-none;
  box-shadow: 0 0 0 1px rgba(220, 38, 38, 0.2);
}

/* Button active states */
button:active {
  transform: translateY(0.5px);
}